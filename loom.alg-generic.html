<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script>
<!-- Google Analytics -->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      var pluginUrl =
      '//www.google-analytics.com/plugins/ga/inpage_linkid.js';
      _gaq.push(['_require', 'inpage_linkid', pluginUrl]);
      _gaq.push(['_setAccount', 'UA-37511940-1']);
      _gaq.push(['_trackPageview']);
      (function() {
       var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
       ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
       var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
       })();
     </script>
<title>loom.alg-generic documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Loom 0.5.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>loom</span></div></div></li><li class="depth-2 branch"><a href="loom.alg.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alg</span></div></a></li><li class="depth-2 branch current"><a href="loom.alg-generic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>alg-generic</span></div></a></li><li class="depth-2 branch"><a href="loom.attr.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>attr</span></div></a></li><li class="depth-2 branch"><a href="loom.flow.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>flow</span></div></a></li><li class="depth-2 branch"><a href="loom.gen.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gen</span></div></a></li><li class="depth-2 branch"><a href="loom.graph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graph</span></div></a></li><li class="depth-2 branch"><a href="loom.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-2 branch"><a href="loom.label.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>label</span></div></a></li><li class="depth-2"><a href="loom.multigraph.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>multigraph</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="loom.alg-generic.html#var--.3EAncestry"><div class="inner"><span>-&gt;Ancestry</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestor.3F"><div class="inner"><span>ancestor?</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestors"><div class="inner"><span>ancestors</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestry-add"><div class="inner"><span>ancestry-add</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestry-contains.3F"><div class="inner"><span>ancestry-contains?</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestry-new"><div class="inner"><span>ancestry-new</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-ancestry-nodes"><div class="inner"><span>ancestry-nodes</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bf-path"><div class="inner"><span>bf-path</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bf-path-bi"><div class="inner"><span>bf-path-bi</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bf-paths-bi"><div class="inner"><span>bf-paths-bi</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bf-span"><div class="inner"><span>bf-span</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bf-traverse"><div class="inner"><span>bf-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bits-per-long"><div class="inner"><span>bits-per-long</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-get"><div class="inner"><span>bm-get</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-get-indicies"><div class="inner"><span>bm-get-indicies</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-longs"><div class="inner"><span>bm-longs</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-new"><div class="inner"><span>bm-new</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-or"><div class="inner"><span>bm-or</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-bm-set"><div class="inner"><span>bm-set</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-dijkstra-path"><div class="inner"><span>dijkstra-path</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-dijkstra-path-dist"><div class="inner"><span>dijkstra-path-dist</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-dijkstra-span"><div class="inner"><span>dijkstra-span</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-dijkstra-traverse"><div class="inner"><span>dijkstra-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-map-.3EAncestry"><div class="inner"><span>map-&gt;Ancestry</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-paths"><div class="inner"><span>paths</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-post-edge-traverse"><div class="inner"><span>post-edge-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-post-traverse"><div class="inner"><span>post-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-pre-edge-traverse"><div class="inner"><span>pre-edge-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-pre-span"><div class="inner"><span>pre-span</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-pre-traverse"><div class="inner"><span>pre-traverse</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-preds-.3Espan"><div class="inner"><span>preds-&gt;span</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-topsort-component"><div class="inner"><span>topsort-component</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-trace-path"><div class="inner"><span>trace-path</span></div></a></li><li class="depth-1"><a href="loom.alg-generic.html#var-trace-paths"><div class="inner"><span>trace-paths</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">loom.alg-generic</h2><div class="doc"><pre class="plaintext">Graph algorithms for use on any type of graph
</pre></div><div class="public anchor" id="var--.3EAncestry"><h3>-&gt;Ancestry</h3><div class="usage"><code>(-&gt;Ancestry node-&gt;idx idx-&gt;node bitmaps)</code></div><div class="doc"><pre class="plaintext">Positional factory function for class loom.alg_generic.Ancestry.
</pre></div></div><div class="public anchor" id="var-ancestor.3F"><h3>ancestor?</h3><div class="usage"><code>(ancestor? ancestry childer parenter)</code></div><div class="doc"><pre class="plaintext">Find if the &apos;parenter node is an ancestor of &apos;childer node for the given
&apos;ancestry cache.</pre></div></div><div class="public anchor" id="var-ancestors"><h3>ancestors</h3><div class="usage"><code>(ancestors ancestry child)</code></div><div class="doc"><pre class="plaintext">Return all of the ancestors of &apos;child node.
</pre></div></div><div class="public anchor" id="var-ancestry-add"><h3>ancestry-add</h3><div class="usage"><code>(ancestry-add ancestry node &amp; parents)</code></div><div class="doc"><pre class="plaintext">Add a &apos;node and its &apos;parents associations to the &apos;ancestry cache.
</pre></div></div><div class="public anchor" id="var-ancestry-contains.3F"><h3>ancestry-contains?</h3><div class="usage"><code>(ancestry-contains? ancestry node)</code></div><div class="doc"><pre class="plaintext">Finds if a &apos;node is contained in the &apos;ancestry cache.
</pre></div></div><div class="public anchor" id="var-ancestry-new"><h3>ancestry-new</h3><div class="usage"><code>(ancestry-new)</code></div><div class="doc"><pre class="plaintext">Create a new, empty Ancestry cache.
</pre></div></div><div class="public anchor" id="var-ancestry-nodes"><h3>ancestry-nodes</h3><div class="usage"><code>(ancestry-nodes ancestry)</code></div><div class="doc"><pre class="plaintext">Return all of the nodes in an &apos;ancestry.
</pre></div></div><div class="public anchor" id="var-bf-path"><h3>bf-path</h3><div class="usage"><code>(bf-path successors start end &amp; {:as opts})</code></div><div class="doc"><pre class="plaintext">Return a path from start to end with the fewest hops (i.e. irrespective
of edge weights), successors being a function that returns adjacent nodes</pre></div></div><div class="public anchor" id="var-bf-path-bi"><h3>bf-path-bi</h3><div class="usage"><code>(bf-path-bi outgoing predecessors start end)</code></div><div class="doc"><pre class="plaintext">Using a bidirectional breadth-first search, finds a path from start
to end with the fewest hops (i.e. irrespective of edge weights),
outgoing and predecessors being functions which return adjacent
nodes. Can be much faster than a unidirectional search on certain
types of graphs</pre></div></div><div class="public anchor" id="var-bf-paths-bi"><h3>bf-paths-bi</h3><div class="usage"><code>(bf-paths-bi successors predecessors start end)</code></div><div class="doc"><pre class="plaintext">Using a bidirectional breadth-first search, returns all shortest
paths from start to end; predecessors is called on end and each
preceding node, successors is called on start, etc.</pre></div></div><div class="public anchor" id="var-bf-span"><h3>bf-span</h3><div class="usage"><code>(bf-span successors start &amp; {:keys [seen]})</code></div><div class="doc"><pre class="plaintext">Return a breadth-first spanning tree of the form {node
[successors]}</pre></div></div><div class="public anchor" id="var-bf-traverse"><h3>bf-traverse</h3><div class="usage"><code>(bf-traverse successors start &amp; {:keys [f when seen]})</code></div><div class="doc"><pre class="plaintext">Traverses a graph breadth-first from start, successors being a
function that returns adjacent nodes. When :f is provided, returns a
lazy seq of (f node predecessor-map depth) for each node traversed.
Otherwise, returns a lazy seq of the nodes. When :when is provided,
filters successors with (f neighbor predecessor depth).</pre></div></div><div class="public anchor" id="var-bits-per-long"><h3>bits-per-long</h3><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var-bm-get"><h3>bm-get</h3><div class="usage"><code>(bm-get bitmap idx)</code></div><div class="doc"><pre class="plaintext">Get boolean state of bit in &apos;bitmap at &apos;idx.
</pre></div></div><div class="public anchor" id="var-bm-get-indicies"><h3>bm-get-indicies</h3><div class="usage"><code>(bm-get-indicies bitmap)</code></div><div class="doc"><pre class="plaintext">Get the indicies of set bits in &apos;bitmap.
</pre></div></div><div class="public anchor" id="var-bm-longs"><h3>bm-longs</h3><div class="usage"><code>(bm-longs bits)</code></div><div class="doc"><pre class="plaintext">Return the number of longs required to store bits count bits in a bitmap.
</pre></div></div><div class="public anchor" id="var-bm-new"><h3>bm-new</h3><div class="usage"><code>(bm-new)</code></div><div class="doc"><pre class="plaintext">Create new empty bitmap.
</pre></div></div><div class="public anchor" id="var-bm-or"><h3>bm-or</h3><div class="usage"><code>(bm-or &amp; bitmaps)</code></div><div class="doc"><pre class="plaintext">Logically OR &apos;bitmaps together.
</pre></div></div><div class="public anchor" id="var-bm-set"><h3>bm-set</h3><div class="usage"><code>(bm-set bitmap idx)</code></div><div class="doc"><pre class="plaintext">Set boolean state of bit in &apos;bitmap at &apos;idx to true.
</pre></div></div><div class="public anchor" id="var-dijkstra-path"><h3>dijkstra-path</h3><div class="usage"><code>(dijkstra-path successors dist start end)</code></div><div class="doc"><pre class="plaintext">Finds the shortest path from start to end, where successors and dist
are functions called as (successors node) and (dist node1 node2)</pre></div></div><div class="public anchor" id="var-dijkstra-path-dist"><h3>dijkstra-path-dist</h3><div class="usage"><code>(dijkstra-path-dist successors dist start end)</code></div><div class="doc"><pre class="plaintext">Finds the shortest path from start to end, where successors and dist
are functions called as (successors node) and (dist node1 node2).
Returns a vector: [path distance]</pre></div></div><div class="public anchor" id="var-dijkstra-span"><h3>dijkstra-span</h3><div class="usage"><code>(dijkstra-span successors dist start)</code></div><div class="doc"><pre class="plaintext">Finds all shortest distances from start, where successors and dist
are functions called as (successors node) and (dist node1 node2).
Returns a map in the format {node {successor distance}}</pre></div></div><div class="public anchor" id="var-dijkstra-traverse"><h3>dijkstra-traverse</h3><div class="usage"><code>(dijkstra-traverse successors dist start)</code><code>(dijkstra-traverse successors dist start f)</code></div><div class="doc"><pre class="plaintext">Returns a lazy-seq of [current-node state] where state is a map in the
format {node [distance predecessor]}. When f is provided, returns
a lazy-seq of (f node state) for each node</pre></div></div><div class="public anchor" id="var-map-.3EAncestry"><h3>map-&gt;Ancestry</h3><div class="usage"><code>(map-&gt;Ancestry m__5818__auto__)</code></div><div class="doc"><pre class="plaintext">Factory function for class loom.alg_generic.Ancestry, taking a map of keywords to field values.
</pre></div></div><div class="public anchor" id="var-paths"><h3>paths</h3><div class="usage"><code>(paths preds path)</code></div><div class="doc"><pre class="plaintext">Returns a lazy seq of all non-looping path vectors starting with
[&lt;start-node&gt;]</pre></div></div><div class="public anchor" id="var-post-edge-traverse"><h3>post-edge-traverse</h3><div class="usage"><code>(post-edge-traverse successors start &amp; {:keys [seen return-seen], :or {seen #{}}})</code></div><div class="doc"><pre class="plaintext">Traverses a graph depth-first postorder from start, successors being
a function that returns direct successors for the node. Returns a
seq of edges, each edge being a vector [source-node dest-node].
Note that for undirected graphs each edge will be returned twice,
once for each direction.</pre></div></div><div class="public anchor" id="var-post-traverse"><h3>post-traverse</h3><div class="usage"><code>(post-traverse successors start &amp; {:keys [seen return-seen], :or {seen #{}}})</code></div><div class="doc"><pre class="plaintext">Traverses a graph depth-first postorder from start, successors
being a function that returns adjacent nodes. Returns a vector</pre></div></div><div class="public anchor" id="var-pre-edge-traverse"><h3>pre-edge-traverse</h3><div class="usage"><code>(pre-edge-traverse successors start &amp; {:keys [seen], :or {seen #{}}})</code></div><div class="doc"><pre class="plaintext">Traverses a graph depth-first preorder from start, successors being
a function that returns direct successors for the node. Returns a
lazy seq of edges, each edge being a vector [source-node dest-node].
Note that for undirected graphs each edge will be returned twice,
once for each direction.</pre></div></div><div class="public anchor" id="var-pre-span"><h3>pre-span</h3><div class="usage"><code>(pre-span successors start &amp; {:keys [seen return-seen], :or {seen #{}}})</code></div><div class="doc"><pre class="plaintext">Return a depth-first spanning tree of the form {node [successors]}
</pre></div></div><div class="public anchor" id="var-pre-traverse"><h3>pre-traverse</h3><div class="usage"><code>(pre-traverse successors start &amp; {:keys [seen], :or {seen #{}}})</code></div><div class="doc"><pre class="plaintext">Traverses a graph depth-first preorder from start, successors being
a function that returns direct successors for the node. Returns a
lazy seq of nodes.</pre></div></div><div class="public anchor" id="var-preds-.3Espan"><h3>preds-&gt;span</h3><div class="usage"><code>(preds-&gt;span preds)</code></div><div class="doc"><pre class="plaintext">Converts a map of the form {node predecessor} to a spanning tree of the
form {node [successors]}</pre></div></div><div class="public anchor" id="var-topsort-component"><h3>topsort-component</h3><div class="usage"><code>(topsort-component successors start)</code><code>(topsort-component successors start seen explored)</code></div><div class="doc"><pre class="plaintext">Topological sort of a component of a (presumably) directed graph.
Returns nil if the graph contains any cycles. See loom.alg/topsort
for a complete topological sort</pre></div></div><div class="public anchor" id="var-trace-path"><h3>trace-path</h3><div class="usage"><code>(trace-path preds node)</code></div><div class="doc"><pre class="plaintext">Using a map of nodes-to-preds, traces a node&apos;s family tree back to the
source. Cycles are not accounted for.</pre></div></div><div class="public anchor" id="var-trace-paths"><h3>trace-paths</h3><div class="usage"><code>(trace-paths preds start)</code></div><div class="doc"><pre class="plaintext">Given a function and a starting node, returns all possible paths
back to source. Cycles are not accounted for.</pre></div></div></div></body></html>
